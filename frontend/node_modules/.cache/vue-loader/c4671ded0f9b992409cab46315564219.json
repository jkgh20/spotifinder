{"remainingRequest":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/src/components/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/src/components/Home.vue","mtime":1574496028860},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCBjcmVhdGVQZXJzaXN0ZWRTdGF0ZSBmcm9tICJ2dWV4LXBlcnNpc3RlZHN0YXRlIjsKClZ1ZS51c2UoVnVleCk7Cgpjb25zdCBzdGF0ZSA9IHsKICBzZWxlY3RlZENpdGllczogbnVsbCwKICBzZWxlY3RlZEdlbnJlczogbnVsbCwKICBhdmFpbGFibGVDaXRpZXM6IG51bGwsCiAgYXZhaWxhYmxlR2VucmVzOiBudWxsLAogIHN0YXRlU3RyaW5nOiBudWxsLAp9OwoKY29uc3QgbXV0YXRpb25zID0gewogIFVQREFURV9TRUxFQ1RFRF9DSVRJRVMoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLnNlbGVjdGVkQ2l0aWVzID0gcGF5bG9hZDsKICB9LAogIFVQREFURV9TRUxFQ1RFRF9HRU5SRVMoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLnNlbGVjdGVkR2VucmVzID0gcGF5bG9hZDsKICB9LAogIFVQREFURV9BVkFJTEFCTEVfQ0lUSUVTKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5hdmFpbGFibGVDaXRpZXMgPSBwYXlsb2FkOwogIH0sCiAgVVBEQVRFX0FWQUlMQUJMRV9HRU5SRVMoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLmF2YWlsYWJsZUdlbnJlcyA9IHBheWxvYWQ7CiAgfSwKICBVUERBVEVfU1RBVEVfU1RSSU5HKHN0YXRlLCBuZXdWYWx1ZSkgewogICAgc3RhdGUuc3RhdGVTdHJpbmcgPSBuZXdWYWx1ZTsKICB9Cn07Cgpjb25zdCBzdG9yZSA9IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZSwKICBtdXRhdGlvbnMsCiAgcGx1Z2luczogW2NyZWF0ZVBlcnNpc3RlZFN0YXRlKCldCn0pOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdob21lJywKICBzdG9yZSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvY2FsRXZlbnRzOiBudWxsLAogICAgICBwbGF5bGlzdFN0YXR1czogbnVsbCwKICAgICAgc3BvdGlmeUF1dGhlbnRpY2F0aW9uVXJsOiBudWxsLAogICAgICB0b3BUcmFja3M6IG51bGwsCiAgICAgIGFydGlzdElEczogbnVsbCwKICAgICAgaXNTdGF0ZVN0cmluZ0NvcnJlY3Q6IG51bGwKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBzZWxlY3RlZENpdGllczogewogICAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5zZWxlY3RlZENpdGllczsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbihuZXdWYWx1ZSkgewogICAgICAgIHN0b3JlLmNvbW1pdCgiVVBEQVRFX1NFTEVDVEVEX0NJVElFUyIsIG5ld1ZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIGF2YWlsYWJsZUNpdGllczogewogICAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5hdmFpbGFibGVDaXRpZXM7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24obmV3VmFsdWUpIHsKICAgICAgICBzdG9yZS5jb21taXQoIlVQREFURV9BVkFJTEFCTEVfQ0lUSUVTIiwgbmV3VmFsdWUpOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0ZWRHZW5yZXM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gc3RvcmUuc3RhdGUuc2VsZWN0ZWRHZW5yZXM7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24obmV3VmFsdWUpIHsKICAgICAgICBzdG9yZS5jb21taXQoIlVQREFURV9TRUxFQ1RFRF9HRU5SRVMiLCBuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBhdmFpbGFibGVHZW5yZXM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gc3RvcmUuc3RhdGUuYXZhaWxhYmxlR2VucmVzOyAKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbihuZXdWYWx1ZSkgewogICAgICAgIHN0b3JlLmNvbW1pdCgiVVBEQVRFX0FWQUlMQUJMRV9HRU5SRVMiLCBuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBzdGF0ZVN0cmluZzogewogICAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS5zdGF0ZVN0cmluZzsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbihuZXdWYWx1ZSkgewogICAgICAgIHN0b3JlLmNvbW1pdCgiVVBEQVRFX1NUQVRFX1NUUklORyIsIG5ld1ZhbHVlKTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICBpZiAodGhpcy5zZWxlY3RlZENpdGllcyAhPSBudWxsICYmIHRoaXMuc2VsZWN0ZWRHZW5yZXMgIT0gbnVsbCkgewogICAgICB0aGlzLmdldExvY2FsRXZlbnRzKHRoaXMuc2VsZWN0ZWRDaXRpZXMsIHRoaXMuc2VsZWN0ZWRHZW5yZXMpOwogICAgfQogICAgdGhpcy5pbml0aWFsaXplU3RvcmUoKTsKICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5zdGF0ZSA9PSBudWxsKSB7CiAgICAgIHRoaXMuc2V0TmV3U3BvdGlmeUF1dGhlbnRpY2F0aW9uVXJsKCk7CiAgICB9IAogICAgdGhpcy5pc1N0YXRlU3RyaW5nQ29ycmVjdCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnN0YXRlID09IHRoaXMuc3RhdGVTdHJpbmc7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0aWFsaXplU3RvcmU6IGZ1bmN0aW9uKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZENpdGllcyA9PSBudWxsKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZENpdGllcyA9IG5ldyBBcnJheSgpOwogICAgICB9CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkR2VucmVzID09IG51bGwpIHsKICAgICAgICB0aGlzLnNlbGVjdGVkR2VucmVzID0gbmV3IEFycmF5KCk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuYXZhaWxhYmxlQ2l0aWVzID09IG51bGwpIHsKICAgICAgICB0aGlzLmdldEF2YWlsYWJsZUNpdGllcygpOwogICAgICB9CiAgICAgIGlmICh0aGlzLmF2YWlsYWJsZUdlbnJlcyA9PSBudWxsKSB7CiAgICAgICAgdGhpcy5nZXRBdmFpbGFibGVHZW5yZXMoKTsKICAgICAgfQogICAgfSwKICAgIHRyYW5zZmVyQXJyYXlWYWx1ZTogZnVuY3Rpb24oc291cmNlQXJyYXksIHRhcmdldEFycmF5LCB2YWx1ZSkgewogICAgICB2YXIgaW5kZXggPSBzb3VyY2VBcnJheS5pbmRleE9mKHZhbHVlKTsKICAgICAgaWYgKGluZGV4ID4gLTEpIHsKCiAgICAgICAgaWYgKCEodGFyZ2V0QXJyYXkgPT0gdGhpcy5zZWxlY3RlZENpdGllcyAmJiB0YXJnZXRBcnJheS5sZW5ndGggPT0gNikgJiYgCiAgICAgICAgISh0YXJnZXRBcnJheSA9PSB0aGlzLnNlbGVjdGVkR2VucmVzICYmIHRhcmdldEFycmF5Lmxlbmd0aCA9PSAxMCkpIHsKICAgICAgICAgIGlmIChzb3VyY2VBcnJheSA9PSB0aGlzLnNlbGVjdGVkQ2l0aWVzKSB7CiAgICAgICAgICAgIHNvdXJjZUFycmF5LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIHRhcmdldEFycmF5LnB1c2godmFsdWUpOwogICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2l0aWVzID0gc291cmNlQXJyYXk7CiAgICAgICAgICAgIHRoaXMuYXZhaWxhYmxlQ2l0aWVzID0gdGFyZ2V0QXJyYXk7CiAgICAgICAgICB9IAogICAgICAgICAgZWxzZSBpZiAoc291cmNlQXJyYXkgPT0gdGhpcy5hdmFpbGFibGVDaXRpZXMpIHsKICAgICAgICAgICAgc291cmNlQXJyYXkuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgdGFyZ2V0QXJyYXkucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgIHRoaXMuYXZhaWxhYmxlQ2l0aWVzID0gc291cmNlQXJyYXk7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDaXRpZXMgPSB0YXJnZXRBcnJheTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgaWYgKHNvdXJjZUFycmF5ID09IHRoaXMuc2VsZWN0ZWRHZW5yZXMpIHsKICAgICAgICAgICAgc291cmNlQXJyYXkuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICAgICAgdGFyZ2V0QXJyYXkucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRHZW5yZXMgPSBzb3VyY2VBcnJheTsKICAgICAgICAgICAgdGhpcy5hdmFpbGFibGVHZW5yZXMgPSB0YXJnZXRBcnJheTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgaWYgKHNvdXJjZUFycmF5ID09IHRoaXMuYXZhaWxhYmxlR2VucmVzKSB7CiAgICAgICAgICAgIHNvdXJjZUFycmF5LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgICAgIHRhcmdldEFycmF5LnB1c2godmFsdWUpOwogICAgICAgICAgICB0aGlzLmF2YWlsYWJsZUdlbnJlcyA9IHNvdXJjZUFycmF5OwogICAgICAgICAgICB0aGlzLnNlbGVjdGVkR2VucmVzID0gdGFyZ2V0QXJyYXk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ2l0aWVzLmxlbmd0aCAhPSAwICYmIHRoaXMuc2VsZWN0ZWRHZW5yZXMubGVuZ3RoICE9IDApIHsKICAgICAgICB0aGlzLmdldExvY2FsRXZlbnRzKHRoaXMuc2VsZWN0ZWRDaXRpZXMsIHRoaXMuc2VsZWN0ZWRHZW5yZXMpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9jYWxFdmVudHMgPSBudWxsOwogICAgICB9CiAgICB9LAogICAgZ2V0QXZhaWxhYmxlQ2l0aWVzOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5hdmFpbGFibGVDaXRpZXMgPSBuZXcgQXJyYXkoKTsKCiAgICAgIHZhciBjaXRpZXNVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgxL2NpdGllcyI7CgogICAgICBheGlvcy5nZXQoY2l0aWVzVVJMKQogICAgICAgIC50aGVuKChyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmF2YWlsYWJsZUNpdGllcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkpOwogICAgfSwKICAgIGdldEF2YWlsYWJsZUdlbnJlczogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuYXZhaWxhYmxlR2VucmVzID0gbmV3IEFycmF5KCk7CgogICAgICB2YXIgZ2VucmVzVVJMID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9nZW5yZXMiOwoKICAgICAgYXhpb3MuZ2V0KGdlbnJlc1VSTCkKICAgICAgICAudGhlbigocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5hdmFpbGFibGVHZW5yZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pKTsKICAgIH0sCiAgICBnZXRMb2NhbEV2ZW50czogZnVuY3Rpb24gKGNpdGllcywgZ2VucmVzKSB7CiAgICAgIHZhciBjaXR5U3RyaW5nID0gdGhpcy5hcnJheVRvUXVlcnlTdHJpbmcoY2l0aWVzKTsKICAgICAgdmFyIGdlbnJlU3RyaW5nID0gdGhpcy5hcnJheVRvUXVlcnlTdHJpbmcoZ2VucmVzKTsKCiAgICAgIHZhciBsb2NhbEV2ZW50c1VSTCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODEvbG9jYWxldmVudHM/Y2l0aWVzPSIgKwogICAgICBjaXR5U3RyaW5nICsKICAgICAgIiZnZW5yZXM9IiArCiAgICAgIGdlbnJlU3RyaW5nOwoKICAgICAgYXhpb3MuZ2V0KGxvY2FsRXZlbnRzVVJMKQogICAgICAgIC50aGVuKChyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmxvY2FsRXZlbnRzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGlmICh0aGlzLiRyb3V0ZS5xdWVyeS5zdGF0ZSA9PSB0aGlzLnN0YXRlU3RyaW5nKSB7IC8vVXNlciBoYXMgbG9nZ2VkIGluIHN1Y2Nlc3NmdWxseQogICAgICAgICAgICB0aGlzLmdldEFydGlzdElEcyh0aGlzLmxvY2FsRXZlbnRzKTsKICAgICAgICAgIH0KICAgICAgICB9KSk7CiAgICB9LAogICAgc2V0TmV3U3BvdGlmeUF1dGhlbnRpY2F0aW9uVXJsOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5zdGF0ZVN0cmluZyA9IHRoaXMuZ2V0UmFuZG9tU3RhdGVTdHJpbmcoKQoKICAgICAgdmFyIGdldEF1dGhlbnRpY2F0aW9uUmVxdWVzdFVybCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODEvYXV0aGVudGljYXRlP3N0YXRlPSIKICAgICAgKyAgdGhpcy5zdGF0ZVN0cmluZzsKCiAgICAgIGF4aW9zLmdldChnZXRBdXRoZW50aWNhdGlvblJlcXVlc3RVcmwpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5zcG90aWZ5QXV0aGVudGljYXRpb25VcmwgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pCiAgICB9LAogICAgZ2V0UmFuZG9tU3RhdGVTdHJpbmc6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTUpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTUpCiAgICB9LAogICAgcmVkaXJlY3RUb1VSTDogZnVuY3Rpb24oKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHRoaXMuc3BvdGlmeUF1dGhlbnRpY2F0aW9uVXJsOwogICAgfSwKICAgIGFycmF5VG9RdWVyeVN0cmluZzogZnVuY3Rpb24gKGFycmF5KSB7CiAgICAgIHZhciBxdWVyeVN0cmluZyA9ICdbJzsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBxdWVyeVN0cmluZyA9IHF1ZXJ5U3RyaW5nLmNvbmNhdChhcnJheVtpXSArICcsJyk7CiAgICAgIH0KCiAgICAgIHF1ZXJ5U3RyaW5nID0gcXVlcnlTdHJpbmcuc2xpY2UoMCwgLTEpLmNvbmNhdCgnXScpOwogICAgICByZXR1cm4gcXVlcnlTdHJpbmc7CiAgICB9LAogICAgZ2V0QXJ0aXN0SURzOiBmdW5jdGlvbihldmVudHMpIHsKICAgICAgdmFyIGFydGlzdElEc1VSTCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODEvYXJ0aXN0aWRzIjsKCiAgICAgIGF4aW9zLnBvc3QoYXJ0aXN0SURzVVJMLCBKU09OLnN0cmluZ2lmeShldmVudHMpKQogICAgICAgIC50aGVuKChyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmFydGlzdElEcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkpOwogICAgfSwKICAgIGJ1aWxkUGxheWxpc3Q6IGZ1bmN0aW9uIChuYW1lLCBkZXNjKSB7CiAgICAgIHZhciB0b3BUcmFja3NVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgxL3RvcHRyYWNrcyI7CiAgICAgIHZhciBidWlsZFBsYXlsaXN0VVJMID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS9idWlsZHBsYXlsaXN0P25hbWU9IiArCiAgICAgICAgbmFtZSArCiAgICAgICAgIiZkZXNjPSIgKwogICAgICAgIGRlc2M7CgogICAgICBheGlvcy5wb3N0KHRvcFRyYWNrc1VSTCwgSlNPTi5zdHJpbmdpZnkodGhpcy5hcnRpc3RJRHMpKQogICAgICAgIC50aGVuKChyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLnRvcFRyYWNrcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBheGlvcy5wb3N0KGJ1aWxkUGxheWxpc3RVUkwsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMucGxheWxpc3RTdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7CiAgICAgICAgICB9KSk7CiAgICAgICAgfSkpOwogICAgfQogIH0KfQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"home row\">\n    <div class=\"leftsidebar col-md-4\">\n      <div class=\"selections\">\n        <h5>Selected Cities</h5>\n        <ul v-if=\"selectedCities\">\n          <li v-for=\"city in selectedCities\" v-bind:key=\"city\" v-on:click=\"transferArrayValue(selectedCities, availableCities, city)\">\n            {{city}}\n          </li>\n        </ul>\n\n        <h5>Available Cities</h5>\n        <ul v-if=\"availableCities\">\n          <li v-for=\"city in availableCities\" v-bind:key=\"city\" v-on:click=\"transferArrayValue(availableCities, selectedCities, city)\">\n            {{city}}\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"selections\">\n        <h5>Selected Genres</h5>\n        <ul v-if=\"selectedGenres\">\n          <li v-for=\"genre in selectedGenres\" v-bind:key=\"genre\" v-on:click=\"transferArrayValue(selectedGenres, availableGenres, genre)\">\n            {{genre}}\n          </li>\n        </ul>\n\n        <h5>Available Genres</h5>\n        <ul v-if=\"availableGenres\">\n          <li v-for=\"genre in availableGenres\" v-bind:key=\"genre\" v-on:click=\"transferArrayValue(availableGenres, selectedGenres, genre)\">\n            {{genre}}\n          </li>\n        </ul>\n      </div>\n    </div>\n\n    <div class=\"playlistcontent col-md-8\">\n      <div v-if=\"!isStateStringCorrect\">\n        <button class=\"btn\" v-on:click=\"redirectToURL\">Log In</button>\n      </div>\n      \n      <div v-if=\"isStateStringCorrect\">\n        <div v-if=\"artistIDs\">\n          <button class=\"btn\" v-on:click=\"buildPlaylist('Spooky Title', 'Spooooky Description!')\">Build Playlist</button>\n        </div>\n      </div>\n\n      <h2>Events Data:</h2>\n\n      <div v-if=\"localEvents\">\n        {{localEvents}}\n      </div>\n\n      <div v-if=\"topTracks\">\n        {{topTracks.length}}\n      </div>\n\n      <h2>Playlist Status:</h2>\n      <h2 v-if=\"playlistStatus\">{{playlistStatus}}</h2>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport createPersistedState from \"vuex-persistedstate\";\n\nVue.use(Vuex);\n\nconst state = {\n  selectedCities: null,\n  selectedGenres: null,\n  availableCities: null,\n  availableGenres: null,\n  stateString: null,\n};\n\nconst mutations = {\n  UPDATE_SELECTED_CITIES(state, payload) {\n    state.selectedCities = payload;\n  },\n  UPDATE_SELECTED_GENRES(state, payload) {\n    state.selectedGenres = payload;\n  },\n  UPDATE_AVAILABLE_CITIES(state, payload) {\n    state.availableCities = payload;\n  },\n  UPDATE_AVAILABLE_GENRES(state, payload) {\n    state.availableGenres = payload;\n  },\n  UPDATE_STATE_STRING(state, newValue) {\n    state.stateString = newValue;\n  }\n};\n\nconst store = new Vuex.Store({\n  state,\n  mutations,\n  plugins: [createPersistedState()]\n});\n\nexport default {\n  name: 'home',\n  store,\n  data () {\n    return {\n      localEvents: null,\n      playlistStatus: null,\n      spotifyAuthenticationUrl: null,\n      topTracks: null,\n      artistIDs: null,\n      isStateStringCorrect: null\n    }\n  },\n  computed: {\n    selectedCities: {\n      get: function() {\n        return store.state.selectedCities;\n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_SELECTED_CITIES\", newValue);\n      }\n    },\n    availableCities: {\n      get: function() {\n        return store.state.availableCities;\n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_AVAILABLE_CITIES\", newValue);\n      }\n    },\n    selectedGenres: {\n      get: function() {\n        return store.state.selectedGenres;\n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_SELECTED_GENRES\", newValue);\n      }\n    },\n    availableGenres: {\n      get: function() {\n        return store.state.availableGenres; \n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_AVAILABLE_GENRES\", newValue);\n      }\n    },\n    stateString: {\n      get: function() {\n        return store.state.stateString;\n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_STATE_STRING\", newValue);\n      }\n    }\n  },\n  mounted () {\n    if (this.selectedCities != null && this.selectedGenres != null) {\n      this.getLocalEvents(this.selectedCities, this.selectedGenres);\n    }\n    this.initializeStore();\n    if (this.$route.query.state == null) {\n      this.setNewSpotifyAuthenticationUrl();\n    } \n    this.isStateStringCorrect = this.$route.query.state == this.stateString;\n  },\n  methods: {\n    initializeStore: function() {\n      if (this.selectedCities == null) {\n        this.selectedCities = new Array();\n      }\n      if (this.selectedGenres == null) {\n        this.selectedGenres = new Array();\n      }\n      if (this.availableCities == null) {\n        this.getAvailableCities();\n      }\n      if (this.availableGenres == null) {\n        this.getAvailableGenres();\n      }\n    },\n    transferArrayValue: function(sourceArray, targetArray, value) {\n      var index = sourceArray.indexOf(value);\n      if (index > -1) {\n\n        if (!(targetArray == this.selectedCities && targetArray.length == 6) && \n        !(targetArray == this.selectedGenres && targetArray.length == 10)) {\n          if (sourceArray == this.selectedCities) {\n            sourceArray.splice(index, 1);\n            targetArray.push(value);\n            this.selectedCities = sourceArray;\n            this.availableCities = targetArray;\n          } \n          else if (sourceArray == this.availableCities) {\n            sourceArray.splice(index, 1);\n            targetArray.push(value);\n            this.availableCities = sourceArray;\n            this.selectedCities = targetArray;\n          }\n          else if (sourceArray == this.selectedGenres) {\n            sourceArray.splice(index, 1);\n            targetArray.push(value);\n            this.selectedGenres = sourceArray;\n            this.availableGenres = targetArray;\n          }\n          else if (sourceArray == this.availableGenres) {\n            sourceArray.splice(index, 1);\n            targetArray.push(value);\n            this.availableGenres = sourceArray;\n            this.selectedGenres = targetArray;\n          }\n        }\n      }\n      if (this.selectedCities.length != 0 && this.selectedGenres.length != 0) {\n        this.getLocalEvents(this.selectedCities, this.selectedGenres);\n      } else {\n        this.localEvents = null;\n      }\n    },\n    getAvailableCities: function() {\n      this.availableCities = new Array();\n\n      var citiesURL = \"http://localhost:8081/cities\";\n\n      axios.get(citiesURL)\n        .then((response => {\n          this.availableCities = response.data;\n        }));\n    },\n    getAvailableGenres: function() {\n      this.availableGenres = new Array();\n\n      var genresURL = \"http://localhost:8081/genres\";\n\n      axios.get(genresURL)\n        .then((response => {\n          this.availableGenres = response.data;\n        }));\n    },\n    getLocalEvents: function (cities, genres) {\n      var cityString = this.arrayToQueryString(cities);\n      var genreString = this.arrayToQueryString(genres);\n\n      var localEventsURL = \"http://localhost:8081/localevents?cities=\" +\n      cityString +\n      \"&genres=\" +\n      genreString;\n\n      axios.get(localEventsURL)\n        .then((response => {\n          this.localEvents = response.data;\n          if (this.$route.query.state == this.stateString) { //User has logged in successfully\n            this.getArtistIDs(this.localEvents);\n          }\n        }));\n    },\n    setNewSpotifyAuthenticationUrl: function() {\n      this.stateString = this.getRandomStateString()\n\n      var getAuthenticationRequestUrl = \"http://localhost:8081/authenticate?state=\"\n      +  this.stateString;\n\n      axios.get(getAuthenticationRequestUrl)\n        .then(response => {\n          this.spotifyAuthenticationUrl = response.data;\n        })\n    },\n    getRandomStateString: function() {\n      return Math.random().toString(36).substring(2,15) + Math.random().toString(36).substring(2,15)\n    },\n    redirectToURL: function() {\n      window.location = this.spotifyAuthenticationUrl;\n    },\n    arrayToQueryString: function (array) {\n      var queryString = '[';\n\n      for (var i = 0; i < array.length; i++) {\n        queryString = queryString.concat(array[i] + ',');\n      }\n\n      queryString = queryString.slice(0, -1).concat(']');\n      return queryString;\n    },\n    getArtistIDs: function(events) {\n      var artistIDsURL = \"http://localhost:8081/artistids\";\n\n      axios.post(artistIDsURL, JSON.stringify(events))\n        .then((response => {\n          this.artistIDs = response.data;\n        }));\n    },\n    buildPlaylist: function (name, desc) {\n      var topTracksURL = \"http://localhost:8081/toptracks\";\n      var buildPlaylistURL = \"http://localhost:8081/buildplaylist?name=\" +\n        name +\n        \"&desc=\" +\n        desc;\n\n      axios.post(topTracksURL, JSON.stringify(this.artistIDs))\n        .then((response => {\n          this.topTracks = response.data;\n          axios.post(buildPlaylistURL, JSON.stringify(response.data))\n            .then((response => {\n              this.playlistStatus = response.status;\n          }));\n        }));\n    }\n  }\n}\n</script>\n\n\n"]}]}