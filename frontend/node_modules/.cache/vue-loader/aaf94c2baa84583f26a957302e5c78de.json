{"remainingRequest":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/src/components/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/src/components/Home.vue","mtime":1578769722638},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZXggZnJvbSAidnVleCI7CmltcG9ydCBBcHBIZWFkZXIgZnJvbSAnLi9BcHBIZWFkZXIudnVlJzsKaW1wb3J0IFBlcmZvcm1lckNhcm91c2VsIGZyb20gJy4vUGVyZm9ybWVyQ2Fyb3VzZWwudnVlJzsKaW1wb3J0IFNlbGVjdG9yIGZyb20gJy4vU2VsZWN0b3IudnVlJzsKaW1wb3J0IGNyZWF0ZVBlcnNpc3RlZFN0YXRlIGZyb20gInZ1ZXgtcGVyc2lzdGVkc3RhdGUiOwoKVnVlLnVzZShWdWV4KTsKCmV4cG9ydCBjb25zdCBzdGF0ZSA9IHsKICBzZWxlY3RlZENpdGllczogbnVsbCwKICBzZWxlY3RlZEdlbnJlczogbnVsbCwKICBhdmFpbGFibGVDaXRpZXM6IG51bGwsCiAgYXZhaWxhYmxlR2VucmVzOiBudWxsLAogIHN0YXRlU3RyaW5nOiBudWxsLAogIHRva2VuOiBudWxsCn07CgpleHBvcnQgY29uc3QgbXV0YXRpb25zID0gewogIFVQREFURV9TRUxFQ1RFRF9DSVRJRVMoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLnNlbGVjdGVkQ2l0aWVzID0gcGF5bG9hZDsKICB9LAogIFVQREFURV9TRUxFQ1RFRF9HRU5SRVMoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLnNlbGVjdGVkR2VucmVzID0gcGF5bG9hZDsKICB9LAogIFVQREFURV9BVkFJTEFCTEVfQ0lUSUVTKHN0YXRlLCBwYXlsb2FkKSB7CiAgICBzdGF0ZS5hdmFpbGFibGVDaXRpZXMgPSBwYXlsb2FkOwogIH0sCiAgVVBEQVRFX0FWQUlMQUJMRV9HRU5SRVMoc3RhdGUsIHBheWxvYWQpIHsKICAgIHN0YXRlLmF2YWlsYWJsZUdlbnJlcyA9IHBheWxvYWQ7CiAgfSwKICBVUERBVEVfU1RBVEVfU1RSSU5HKHN0YXRlLCBuZXdWYWx1ZSkgewogICAgc3RhdGUuc3RhdGVTdHJpbmcgPSBuZXdWYWx1ZTsKICB9LAogIFVQREFURV9UT0tFTihzdGF0ZSwgbmV3VmFsdWUpIHsKICAgIHN0YXRlLnRva2VuID0gbmV3VmFsdWU7CiAgfQp9OwoKZXhwb3J0IGNvbnN0IHN0b3JlID0gbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlLAogIG11dGF0aW9ucywKICBwbHVnaW5zOiBbY3JlYXRlUGVyc2lzdGVkU3RhdGUoKV0KfSk7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2hvbWUnLAogIHN0b3JlLAogIGNvbXBvbmVudHM6IHsKICAgIEFwcEhlYWRlciwKICAgIFBlcmZvcm1lckNhcm91c2VsLAogICAgU2VsZWN0b3IKICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9jYWxFdmVudHM6IG51bGwsCiAgICAgIGxvY2FsUGVyZm9ybWVyczogbnVsbCwKICAgICAgcGxheWxpc3RTdGF0dXM6IG51bGwsCiAgICAgIHNwb3RpZnlBdXRoZW50aWNhdGlvblVybDogbnVsbCwKICAgICAgdG9wVHJhY2tzOiBudWxsLAogICAgICBhcnRpc3RzOiBudWxsLAogICAgICBhcnRpc3RJbWFnZXM6IG51bGwsCiAgICAgIGlzU3RhdGVTdHJpbmdDb3JyZWN0OiBudWxsLAogICAgICBwbGF5bGlzdExvYWRpbmc6IGZhbHNlLAogICAgICBhcGlBZGRyZXNzOiBudWxsLAogICAgICBwbGFjZWhvbGRlckFydGlzdEltYWdlczogWwogICAgICAgIHsiTmFtZSI6ICJZb3VyIEFydGlzdHMgV2lsbCBTaG93IFVwIEhlcmUiLCAiSW1hZ2VVUkwiOiAiaHR0cHM6Ly9waWNzdW0ucGhvdG9zL2lkLzE5MC8yMDQ4LzEzNjUifQogICAgICBdCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgc2VsZWN0ZWRDaXRpZXM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gc3RvcmUuc3RhdGUuc2VsZWN0ZWRDaXRpZXM7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24obmV3VmFsdWUpIHsKICAgICAgICBzdG9yZS5jb21taXQoIlVQREFURV9TRUxFQ1RFRF9DSVRJRVMiLCBuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICBhdmFpbGFibGVDaXRpZXM6IHsKICAgICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gc3RvcmUuc3RhdGUuYXZhaWxhYmxlQ2l0aWVzOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7CiAgICAgICAgc3RvcmUuY29tbWl0KCJVUERBVEVfQVZBSUxBQkxFX0NJVElFUyIsIG5ld1ZhbHVlKTsKICAgICAgfQogICAgfSwKICAgIHNlbGVjdGVkR2VucmVzOiB7CiAgICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLnNlbGVjdGVkR2VucmVzOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7CiAgICAgICAgc3RvcmUuY29tbWl0KCJVUERBVEVfU0VMRUNURURfR0VOUkVTIiwgbmV3VmFsdWUpOwogICAgICB9CiAgICB9LAogICAgYXZhaWxhYmxlR2VucmVzOiB7CiAgICAgIGdldDogZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlLmF2YWlsYWJsZUdlbnJlczsgCiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24obmV3VmFsdWUpIHsKICAgICAgICBzdG9yZS5jb21taXQoIlVQREFURV9BVkFJTEFCTEVfR0VOUkVTIiwgbmV3VmFsdWUpOwogICAgICB9CiAgICB9LAogICAgc3RhdGVTdHJpbmc6IHsKICAgICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gc3RvcmUuc3RhdGUuc3RhdGVTdHJpbmc7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24obmV3VmFsdWUpIHsKICAgICAgICBzdG9yZS5jb21taXQoIlVQREFURV9TVEFURV9TVFJJTkciLCBuZXdWYWx1ZSk7CiAgICAgIH0KICAgIH0sCiAgICB0b2tlbjogewogICAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBzdG9yZS5zdGF0ZS50b2tlbjsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbihuZXdWYWx1ZSkgewogICAgICAgIHN0b3JlLmNvbW1pdCgiVVBEQVRFX1RPS0VOIiwgbmV3VmFsdWUpOwogICAgICB9CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJ3NlbGVjdGVkQ2l0aWVzJzogZnVuY3Rpb24oKSB7CiAgICAgIGlmICh0aGlzLnNlbGVjdGVkQ2l0aWVzLmxlbmd0aCAhPSAwICYmIHRoaXMuc2VsZWN0ZWRHZW5yZXMubGVuZ3RoICE9IDApIHsKICAgICAgICBzdG9yZS5jb21taXQoIlVQREFURV9TRUxFQ1RFRF9DSVRJRVMiLCB0aGlzLnNlbGVjdGVkQ2l0aWVzKTsKICAgICAgICBzdG9yZS5jb21taXQoIlVQREFURV9BVkFJTEFCTEVfQ0lUSUVTIiwgdGhpcy5hdmFpbGFibGVDaXRpZXMpOwoKICAgICAgICB0aGlzLmdldExvY2FsRXZlbnRzKHRoaXMuc2VsZWN0ZWRDaXRpZXMsIHRoaXMuc2VsZWN0ZWRHZW5yZXMpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9jYWxFdmVudHMgPSBudWxsOwogICAgICAgIHRoaXMubG9jYWxQZXJmb3JtZXJzID0gbnVsbDsKICAgICAgICB0aGlzLmFydGlzdEltYWdlcyA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICAnc2VsZWN0ZWRHZW5yZXMnOiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDaXRpZXMubGVuZ3RoICE9IDAgJiYgdGhpcy5zZWxlY3RlZEdlbnJlcy5sZW5ndGggIT0gMCkgewogICAgICAgIHN0b3JlLmNvbW1pdCgiVVBEQVRFX1NFTEVDVEVEX0dFTlJFUyIsIHRoaXMuc2VsZWN0ZWRHZW5yZXMpOwogICAgICAgIHN0b3JlLmNvbW1pdCgiVVBEQVRFX0FWQUlMQUJMRV9HRU5SRVMiLCB0aGlzLmF2YWlsYWJsZUdlbnJlcyk7CgogICAgICAgIHRoaXMuZ2V0TG9jYWxFdmVudHModGhpcy5zZWxlY3RlZENpdGllcywgdGhpcy5zZWxlY3RlZEdlbnJlcyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sb2NhbEV2ZW50cyA9IG51bGw7CiAgICAgICAgdGhpcy5sb2NhbFBlcmZvcm1lcnMgPSBudWxsOwogICAgICAgIHRoaXMuYXJ0aXN0SW1hZ2VzID0gbnVsbDsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICB0aGlzLmFwaUFkZHJlc3MgPSAiaHR0cHM6Ly9vdGhlcnNpZGUtYXBpLmhlcm9rdWFwcC5jb20iOwogICAgCiAgICB0aGlzLmluaXRpYWxpemVTdG9yZSgpOwoKICAgIGlmICh0aGlzLnNlbGVjdGVkQ2l0aWVzLmxlbmd0aCAhPSAwICYmIHRoaXMuc2VsZWN0ZWRHZW5yZXMubGVuZ3RoICE9IDApIHsKICAgICAgdGhpcy5nZXRMb2NhbEV2ZW50cyh0aGlzLnNlbGVjdGVkQ2l0aWVzLCB0aGlzLnNlbGVjdGVkR2VucmVzKTsKICAgIH0gCiAgICBpZiAodGhpcy4kcm91dGUucXVlcnkuc3RhdGUgPT0gbnVsbCkgewogICAgICB0aGlzLnNldE5ld1Nwb3RpZnlBdXRoZW50aWNhdGlvblVybCgpOwogICAgfSAKICAgIHRoaXMuaXNTdGF0ZVN0cmluZ0NvcnJlY3QgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zdGF0ZSA9PSB0aGlzLnN0YXRlU3RyaW5nOwogICAgdGhpcy50b2tlbiA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnRva2VuOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdGlhbGl6ZVN0b3JlOiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDaXRpZXMgPT0gbnVsbCkgewogICAgICAgIHRoaXMuc2VsZWN0ZWRDaXRpZXMgPSBuZXcgQXJyYXkoKTsKICAgICAgfQogICAgICBpZiAodGhpcy5zZWxlY3RlZEdlbnJlcyA9PSBudWxsKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZEdlbnJlcyA9IG5ldyBBcnJheSgpOwogICAgICB9CiAgICAgIGlmICh0aGlzLmF2YWlsYWJsZUNpdGllcyA9PSBudWxsKSB7CiAgICAgICAgdGhpcy5nZXRBdmFpbGFibGVDaXRpZXMoKTsKICAgICAgfQogICAgICBpZiAodGhpcy5hdmFpbGFibGVHZW5yZXMgPT0gbnVsbCkgewogICAgICAgIHRoaXMuZ2V0QXZhaWxhYmxlR2VucmVzKCk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRBdmFpbGFibGVDaXRpZXM6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLmF2YWlsYWJsZUNpdGllcyA9IG5ldyBBcnJheSgpOwoKICAgICAgdmFyIGNpdGllc1VSTCA9IGAke3RoaXMuYXBpQWRkcmVzc30vY2l0aWVzYDsKCiAgICAgIGF4aW9zLmdldChjaXRpZXNVUkwpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuYXZhaWxhYmxlQ2l0aWVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KSk7CiAgICB9LAogICAgZ2V0QXZhaWxhYmxlR2VucmVzOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5hdmFpbGFibGVHZW5yZXMgPSBuZXcgQXJyYXkoKTsKCiAgICAgIHZhciBnZW5yZXNVUkwgPSBgJHt0aGlzLmFwaUFkZHJlc3N9L2dlbnJlc2A7CgogICAgICBheGlvcy5nZXQoZ2VucmVzVVJMKQogICAgICAgIC50aGVuKChyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmF2YWlsYWJsZUdlbnJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkpOwogICAgfSwKICAgIGdldExvY2FsRXZlbnRzOiBmdW5jdGlvbiAoY2l0aWVzLCBnZW5yZXMpIHsKICAgICAgdmFyIGNpdHlTdHJpbmcgPSB0aGlzLmFycmF5VG9RdWVyeVN0cmluZyhjaXRpZXMpOwogICAgICB2YXIgZ2VucmVTdHJpbmcgPSB0aGlzLmFycmF5VG9RdWVyeVN0cmluZyhnZW5yZXMpOwoKICAgICAgdmFyIGxvY2FsRXZlbnRzVVJMID0gYCR7dGhpcy5hcGlBZGRyZXNzfS9sb2NhbGV2ZW50cz9jaXRpZXM9YCArCiAgICAgIGNpdHlTdHJpbmcgKwogICAgICAiJmdlbnJlcz0iICsKICAgICAgZ2VucmVTdHJpbmc7CgogICAgICBheGlvcy5nZXQobG9jYWxFdmVudHNVUkwpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMubG9jYWxFdmVudHMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgaWYgKHRoaXMudG9rZW4gIT0gbnVsbCkgeyAKICAgICAgICAgICAgdGhpcy5nZXRBcnRpc3RJRHModGhpcy5sb2NhbEV2ZW50cyk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLnNldFBlcmZvcm1lcnNBcnJheShyZXNwb25zZS5kYXRhKTsKICAgICAgICB9KSk7CiAgICB9LAogICAgc2V0TmV3U3BvdGlmeUF1dGhlbnRpY2F0aW9uVXJsOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5zdGF0ZVN0cmluZyA9IHRoaXMuZ2V0UmFuZG9tU3RhdGVTdHJpbmcoKQoKICAgICAgdmFyIGdldEF1dGhlbnRpY2F0aW9uUmVxdWVzdFVybCA9IGAke3RoaXMuYXBpQWRkcmVzc30vYXV0aGVudGljYXRlP3N0YXRlPWAKICAgICAgKyAgdGhpcy5zdGF0ZVN0cmluZzsKCiAgICAgIGF4aW9zLmdldChnZXRBdXRoZW50aWNhdGlvblJlcXVlc3RVcmwpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5zcG90aWZ5QXV0aGVudGljYXRpb25VcmwgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0pCiAgICB9LAogICAgc2V0TmV3U3BvdGlmeVRva2VuOiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGdldFNwb3RpZnlUb2tlblJlcXVlc3RVUmwgPSBgJHt0aGlzLmFwaUFkZHJlc3N9L3Rva2VuP3N0YXRlPWAgKyB0aGlzLnN0YXRlU3RyaW5nOwoKICAgICAgYXhpb3MuZ2V0KGdldFNwb3RpZnlUb2tlblJlcXVlc3RVUmwpCiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy50b2tlbiA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgfSkKICAgIH0sCiAgICBnZXRSYW5kb21TdGF0ZVN0cmluZzogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxNSkgKyBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxNSkKICAgIH0sCiAgICByZWRpcmVjdFRvVVJMOiBmdW5jdGlvbigpIHsKICAgICAgd2luZG93LmxvY2F0aW9uID0gdGhpcy5zcG90aWZ5QXV0aGVudGljYXRpb25Vcmw7CiAgICB9LAogICAgYXJyYXlUb1F1ZXJ5U3RyaW5nOiBmdW5jdGlvbiAoYXJyYXkpIHsKICAgICAgdmFyIHF1ZXJ5U3RyaW5nID0gJ1snOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgIHF1ZXJ5U3RyaW5nID0gcXVlcnlTdHJpbmcuY29uY2F0KGFycmF5W2ldICsgJywnKTsKICAgICAgfQoKICAgICAgcXVlcnlTdHJpbmcgPSBxdWVyeVN0cmluZy5zbGljZSgwLCAtMSkuY29uY2F0KCddJyk7CiAgICAgIHJldHVybiBxdWVyeVN0cmluZzsKICAgIH0sCiAgICBnZXRBcnRpc3RJRHM6IGZ1bmN0aW9uKGV2ZW50cykgewogICAgICB2YXIgYXJ0aXN0SURzVVJMID0gYCR7dGhpcy5hcGlBZGRyZXNzfS9hcnRpc3RpZHNgOwoKICAgICAgY29uc3QgYXV0aCA9IHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6IGBCZWFyZXIgJHt0aGlzLnRva2VufWAKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGF4aW9zLnBvc3QoYXJ0aXN0SURzVVJMLCBKU09OLnN0cmluZ2lmeShldmVudHMpLCBhdXRoKQogICAgICAgIC50aGVuKChyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLmFydGlzdHMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgdGhpcy5zZXRBcnRpc3RJbWFnZXNBcnJheSh0aGlzLmFydGlzdHMpOwoKICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuc2V0Q2Fyb3VzZWxTdGFydFNsaWRlcygpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pKS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmZvcmNlTG9nT2ZmKCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgYnVpbGRQbGF5bGlzdDogZnVuY3Rpb24gKG5hbWUsIGRlc2MpIHsKICAgICAgdmFyIHdlZWtTdGFydERhdGUgPSBuZXcgRGF0ZSgpOwogICAgICB2YXIgd2Vla1N0YXJ0TW9udGggPSB3ZWVrU3RhcnREYXRlLmdldE1vbnRoKCkgKyAxOwogICAgICB2YXIgd2Vla1N0YXJ0RGF5ID0gd2Vla1N0YXJ0RGF0ZS5nZXREYXRlKCk7CgogICAgICB2YXIgd2Vla0VuZERhdGUgPSB0aGlzLmFkZERheXMod2Vla1N0YXJ0RGF0ZSwgNyk7CiAgICAgIHZhciB3ZWVrRW5kTW9udGggPSB3ZWVrRW5kRGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgdmFyIHdlZWtFbmREYXkgPSB3ZWVrRW5kRGF0ZS5nZXREYXRlKCk7CgogICAgICBuYW1lICs9IGAgWyR7d2Vla1N0YXJ0TW9udGh9LyR7d2Vla1N0YXJ0RGF5fSAtICR7d2Vla0VuZE1vbnRofS8ke3dlZWtFbmREYXl9XWA7CgogICAgICB2YXIgdG9wVHJhY2tzVVJMID0gYCR7dGhpcy5hcGlBZGRyZXNzfS90b3B0cmFja3NgOwogICAgICB2YXIgYnVpbGRQbGF5bGlzdFVSTCA9IGAke3RoaXMuYXBpQWRkcmVzc30vYnVpbGRwbGF5bGlzdD9uYW1lPWAgKwogICAgICAgIG5hbWUgKwogICAgICAgICImZGVzYz0iICsKICAgICAgICBkZXNjOwoKICAgICAgdmFyIGFydGlzdElEcyA9IG5ldyBBcnJheSgpOwoKICAgICAgdGhpcy5hcnRpc3RzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICBhcnRpc3RJRHMucHVzaCh2YWx1ZS5JZCk7CiAgICAgIH0pOwoKICAgICAgdGhpcy5wbGF5bGlzdExvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnBsYXlsaXN0U3RhdHVzID0gbnVsbDsKCiAgICAgIGNvbnN0IGF1dGggPSB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7dGhpcy50b2tlbn1gCiAgICAgICAgfQogICAgICB9CgogICAgICBheGlvcy5wb3N0KHRvcFRyYWNrc1VSTCwgSlNPTi5zdHJpbmdpZnkoYXJ0aXN0SURzKSwgYXV0aCkKICAgICAgICAudGhlbigocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy50b3BUcmFja3MgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgIGF4aW9zLnBvc3QoYnVpbGRQbGF5bGlzdFVSTCwgSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSksIGF1dGgpCiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5wbGF5bGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLnBsYXlsaXN0U3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzOwogICAgICAgICAgICB9KSkuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuZm9yY2VMb2dPZmYoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgIH0pKS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuZm9yY2VMb2dPZmYoKTsKICAgICAgICAgIH0KICAgICAgICApOwogICAgfSwKICAgIGFkZERheXM6IGZ1bmN0aW9uKGRhdGUsIGRheXMpIHsKICAgICAgY29uc3QgZGF0ZUNvcHkgPSBuZXcgRGF0ZShOdW1iZXIoZGF0ZSkpOwogICAgICBkYXRlQ29weS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpICsgZGF5cyk7CiAgICAgIHJldHVybiBkYXRlQ29weQogICAgfSwKICAgIHNldFBlcmZvcm1lcnNBcnJheTogZnVuY3Rpb24obG9jYWxFdmVudHMpIHsKICAgICAgdmFyIHRlbXBQZXJmb3JtZXJzID0gbmV3IEFycmF5KCk7CgogICAgICBpZiAobG9jYWxFdmVudHMgIT0gbnVsbCkgewogICAgICAgIGxvY2FsRXZlbnRzLmZvckVhY2goZnVuY3Rpb24oZXZlbnQpIHsKICAgICAgICAgIGlmIChldmVudC5QZXJmb3JtZXJzICE9IG51bGwpIHsKICAgICAgICAgICAgICBldmVudC5QZXJmb3JtZXJzLmZvckVhY2goZnVuY3Rpb24ocGVyZm9ybWVyKSB7CiAgICAgICAgICAgICAgICB0ZW1wUGVyZm9ybWVycy5wdXNoKHBlcmZvcm1lcik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7IAoKICAgICAgICB0aGlzLmxvY2FsUGVyZm9ybWVycyA9IHRlbXBQZXJmb3JtZXJzOwogICAgICB9CiAgICB9LAogICAgc2V0QXJ0aXN0SW1hZ2VzQXJyYXk6IGZ1bmN0aW9uKGFydGlzdHMpIHsKICAgICAgdmFyIHRlbXBBcnRpc3RJbWFnZXMgPSBuZXcgQXJyYXkoKTsKCiAgICAgIGlmIChhcnRpc3RzICE9IG51bGwpIHsKICAgICAgICBhcnRpc3RzLmZvckVhY2goZnVuY3Rpb24oYXJ0aXN0KSB7CiAgICAgICAgICBpZiAoYXJ0aXN0Lk5hbWUgIT0gIiIgJiYgYXJ0aXN0LkltYWdlVVJMICE9ICIiKSB7CiAgICAgICAgICAgIHRlbXBBcnRpc3RJbWFnZXMucHVzaCh7Ik5hbWUiOiBhcnRpc3QuTmFtZSwgIkltYWdlVVJMIjogYXJ0aXN0LkltYWdlVVJMfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7IAoKICAgICAgICB0aGlzLmFydGlzdEltYWdlcyA9IHRlbXBBcnRpc3RJbWFnZXM7CiAgICAgIH0KICAgIH0sCiAgICBzZXRDYXJvdXNlbFN0YXJ0U2xpZGVzOiBmdW5jdGlvbigpIHsKICAgICAgdmFyIG51bWJlck9mUGVyZm9ybWVycyA9IC0xOyAKICAgICAgCiAgICAgIGlmICh0aGlzLmFydGlzdEltYWdlcyAhPSBudWxsKSB7CiAgICAgICAgbnVtYmVyT2ZQZXJmb3JtZXJzID0gdGhpcy5hcnRpc3RJbWFnZXMubGVuZ3RoOwogICAgICB9CgogICAgICBpZiAobnVtYmVyT2ZQZXJmb3JtZXJzID4gMCkgewogICAgICAgIHRoaXMuJHJlZnMuY2Fyb3VzZWxMZWZ0LnBhdXNlV3JhcHBlcigpOwogICAgICAgIHRoaXMuJHJlZnMuY2Fyb3VzZWxSaWdodC5wYXVzZVdyYXBwZXIoKTsKICAgICAgICB0aGlzLiRyZWZzLmNhcm91c2VsTWFpbi5wYXVzZVdyYXBwZXIoKTsKCiAgICAgICAgaWYgKG51bWJlck9mUGVyZm9ybWVycyA+PSAzKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLmNhcm91c2VsTGVmdC5zZXRTbGlkZVdyYXBwZXIoMCk7CiAgICAgICAgICB0aGlzLiRyZWZzLmNhcm91c2VsTWFpbi5zZXRTbGlkZVdyYXBwZXIoMSk7CiAgICAgICAgICB0aGlzLiRyZWZzLmNhcm91c2VsUmlnaHQuc2V0U2xpZGVXcmFwcGVyKDIpOwogICAgICAgIH0gZWxzZSBpZiAobnVtYmVyT2ZQZXJmb3JtZXJzID09IDIpIHsKICAgICAgICAgIHRoaXMuJHJlZnMuY2Fyb3VzZWxMZWZ0LnNldFNsaWRlV3JhcHBlcigwKTsKICAgICAgICAgIHRoaXMuJHJlZnMuY2Fyb3VzZWxNYWluLnNldFNsaWRlV3JhcHBlcigxKTsKICAgICAgICAgIHRoaXMuJHJlZnMuY2Fyb3VzZWxSaWdodC5zZXRTbGlkZVdyYXBwZXIoMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJHJlZnMuY2Fyb3VzZWxMZWZ0LnNldFNsaWRlV3JhcHBlcigwKTsKICAgICAgICAgIHRoaXMuJHJlZnMuY2Fyb3VzZWxNYWluLnNldFNsaWRlV3JhcHBlcigwKTsKICAgICAgICAgIHRoaXMuJHJlZnMuY2Fyb3VzZWxSaWdodC5zZXRTbGlkZVdyYXBwZXIoMCk7CiAgICAgICAgfQoKICAgICAgICB0aGlzLiRyZWZzLmNhcm91c2VsTGVmdC5zdGFydFdyYXBwZXIoKTsKICAgICAgICB0aGlzLiRyZWZzLmNhcm91c2VsUmlnaHQuc3RhcnRXcmFwcGVyKCk7CiAgICAgICAgdGhpcy4kcmVmcy5jYXJvdXNlbE1haW4uc3RhcnRXcmFwcGVyKCk7CiAgICAgIH0KICAgIH0sCiAgICBmb3JjZUxvZ09mZjogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMubG9jYWxFdmVudHMgPSBudWxsOwogICAgICB0aGlzLmxvY2FsUGVyZm9ybWVycyA9IG51bGw7CiAgICAgIHRoaXMucGxheWxpc3RTdGF0dXMgPSBudWxsOwogICAgICB0aGlzLnNwb3RpZnlBdXRoZW50aWNhdGlvblVybCA9IG51bGw7CiAgICAgIHRoaXMudG9wVHJhY2tzID0gbnVsbDsKICAgICAgdGhpcy5hcnRpc3RzID0gbnVsbDsKICAgICAgdGhpcy5hcnRpc3RJbWFnZXMgPSBudWxsOwogICAgICB0aGlzLmlzU3RhdGVTdHJpbmdDb3JyZWN0ID0gbnVsbDsKICAgICAgdGhpcy5wbGF5bGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgdGhpcy50b2tlbiA9IG51bGw7CiAgICAgIHRoaXMuc3RhdGVTdHJpbmcgPSBudWxsOwoKICAgICAgd2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoIj8iKVswXTsKICAgIH0sCiAgICBvYnRhaW5BcGlBZGRyZXNzOiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGhvc3RuYW1lID0gd2luZG93LmxvY2F0aW9uLmhvc3Q7CiAgICAgIHZhciBob3N0bmFtZVdpdGhvdXRQb3J0ID0gaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGhvc3RuYW1lLmluZGV4T2YoIjoiKSk7CiAgICAgIHJldHVybiB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgaG9zdG5hbWVXaXRob3V0UG9ydDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"home\">\n    <div v-if=\"apiAddress\">\n      <AppHeader :token=\"token\" :apiAddress=\"apiAddress\">\n      </AppHeader>\n    </div>\n\n    <div class=\"mainBody\">\n      <div class=\"leftsidebar\">\n        <Selector \n          selectorName=\"CITIES\"\n          maxItems=\"6\"\n          index=\"1\"\n          v-bind:selectedItems=\"selectedCities\"\n          v-bind:availableItems=\"availableCities\">\n        </Selector>\n\n        <Selector \n          selectorName=\"GENRES\"\n          maxItems=\"10\"\n          index=\"2\"\n          v-bind:selectedItems=\"selectedGenres\"\n          v-bind:availableItems=\"availableGenres\">\n        </Selector>\n      </div>\n\n      <div class=\"playlistcontent\">\n\n        <div class=\"eventsHolder\">\n\n          <h2 class=\"loginHeader\">3. <strong><em>LOG IN</em></strong> and <strong><em>BUILD</em></strong> your playlist!</h2>\n\n          <div v-if=\"artistImages\"> \n            <PerformerCarousel \n              carouselId=\"performerCarouselLeft\"\n              ref=\"carouselLeft\"\n              v-bind:artistImages=\"artistImages\">\n            </PerformerCarousel>\n\n            <PerformerCarousel \n              carouselId=\"performerCarouselRight\"\n              ref=\"carouselRight\"\n              v-bind:artistImages=\"artistImages\">\n            </PerformerCarousel>\n\n            <PerformerCarousel \n              carouselId=\"performerCarouselMain\"\n              ref=\"carouselMain\"\n              v-bind:artistImages=\"artistImages\">\n            </PerformerCarousel>\n          </div>\n          <div v-else>\n            <PerformerCarousel \n              carouselId=\"performerCarouselLeft\"\n              ref=\"carouselPlaceholderLeft\"\n              v-bind:artistImages=\"placeholderArtistImages\">\n            </PerformerCarousel>\n\n            <PerformerCarousel \n              carouselId=\"performerCarouselRight\"\n              ref=\"carouselPlaceholderRight\"\n              v-bind:artistImages=\"placeholderArtistImages\">\n            </PerformerCarousel>\n\n            <PerformerCarousel \n              carouselId=\"performerCarouselMain\"\n              ref=\"carouselPlaceholderMain\"\n              v-bind:artistImages=\"placeholderArtistImages\">\n            </PerformerCarousel>\n          </div>\n\n        </div>\n\n        <div class=\"btnHolder\" v-if=\"!isStateStringCorrect\">\n          <button class=\"btn\" v-on:click=\"redirectToURL\">Log In</button>\n        </div>\n        \n        <div class=\"btnHolder\" v-if=\"isStateStringCorrect\">\n          <button class=\"btn\" :disabled=\"playlistLoading\" \n            v-on:click=\"buildPlaylist(\n              'Otherside Playlist', \n              'Playlist featuring artists from around the country!')\">\n              Build Playlist\n          </button>\n        </div>\n\n        <div class=\"playlistResult\" v-if=\"playlistLoading === true\">\n          <h4>Building playlist...</h4>\n        </div>\n\n        <div class=\"playlistResult\" v-if=\"playlistStatus === 200\">\n          <h4>{{topTracks.length}} tracks created!</h4>\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from 'axios';\nimport Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport AppHeader from './AppHeader.vue';\nimport PerformerCarousel from './PerformerCarousel.vue';\nimport Selector from './Selector.vue';\nimport createPersistedState from \"vuex-persistedstate\";\n\nVue.use(Vuex);\n\nexport const state = {\n  selectedCities: null,\n  selectedGenres: null,\n  availableCities: null,\n  availableGenres: null,\n  stateString: null,\n  token: null\n};\n\nexport const mutations = {\n  UPDATE_SELECTED_CITIES(state, payload) {\n    state.selectedCities = payload;\n  },\n  UPDATE_SELECTED_GENRES(state, payload) {\n    state.selectedGenres = payload;\n  },\n  UPDATE_AVAILABLE_CITIES(state, payload) {\n    state.availableCities = payload;\n  },\n  UPDATE_AVAILABLE_GENRES(state, payload) {\n    state.availableGenres = payload;\n  },\n  UPDATE_STATE_STRING(state, newValue) {\n    state.stateString = newValue;\n  },\n  UPDATE_TOKEN(state, newValue) {\n    state.token = newValue;\n  }\n};\n\nexport const store = new Vuex.Store({\n  state,\n  mutations,\n  plugins: [createPersistedState()]\n});\n\nexport default {\n  name: 'home',\n  store,\n  components: {\n    AppHeader,\n    PerformerCarousel,\n    Selector\n  },\n  data () {\n    return {\n      localEvents: null,\n      localPerformers: null,\n      playlistStatus: null,\n      spotifyAuthenticationUrl: null,\n      topTracks: null,\n      artists: null,\n      artistImages: null,\n      isStateStringCorrect: null,\n      playlistLoading: false,\n      apiAddress: null,\n      placeholderArtistImages: [\n        {\"Name\": \"Your Artists Will Show Up Here\", \"ImageURL\": \"https://picsum.photos/id/190/2048/1365\"}\n      ]\n    }\n  },\n  computed: {\n    selectedCities: {\n      get: function() {\n        return store.state.selectedCities;\n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_SELECTED_CITIES\", newValue);\n      }\n    },\n    availableCities: {\n      get: function() {\n        return store.state.availableCities;\n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_AVAILABLE_CITIES\", newValue);\n      }\n    },\n    selectedGenres: {\n      get: function() {\n        return store.state.selectedGenres;\n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_SELECTED_GENRES\", newValue);\n      }\n    },\n    availableGenres: {\n      get: function() {\n        return store.state.availableGenres; \n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_AVAILABLE_GENRES\", newValue);\n      }\n    },\n    stateString: {\n      get: function() {\n        return store.state.stateString;\n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_STATE_STRING\", newValue);\n      }\n    },\n    token: {\n      get: function() {\n        return store.state.token;\n      },\n      set: function(newValue) {\n        store.commit(\"UPDATE_TOKEN\", newValue);\n      }\n    }\n  },\n  watch: {\n    'selectedCities': function() {\n      if (this.selectedCities.length != 0 && this.selectedGenres.length != 0) {\n        store.commit(\"UPDATE_SELECTED_CITIES\", this.selectedCities);\n        store.commit(\"UPDATE_AVAILABLE_CITIES\", this.availableCities);\n\n        this.getLocalEvents(this.selectedCities, this.selectedGenres);\n      } else {\n        this.localEvents = null;\n        this.localPerformers = null;\n        this.artistImages = null;\n      }\n    },\n    'selectedGenres': function() {\n      if (this.selectedCities.length != 0 && this.selectedGenres.length != 0) {\n        store.commit(\"UPDATE_SELECTED_GENRES\", this.selectedGenres);\n        store.commit(\"UPDATE_AVAILABLE_GENRES\", this.availableGenres);\n\n        this.getLocalEvents(this.selectedCities, this.selectedGenres);\n      } else {\n        this.localEvents = null;\n        this.localPerformers = null;\n        this.artistImages = null;\n      }\n    }\n  },\n  mounted () {\n    this.apiAddress = \"https://otherside-api.herokuapp.com\";\n    \n    this.initializeStore();\n\n    if (this.selectedCities.length != 0 && this.selectedGenres.length != 0) {\n      this.getLocalEvents(this.selectedCities, this.selectedGenres);\n    } \n    if (this.$route.query.state == null) {\n      this.setNewSpotifyAuthenticationUrl();\n    } \n    this.isStateStringCorrect = this.$route.query.state == this.stateString;\n    this.token = this.$route.query.token;\n  },\n  methods: {\n    initializeStore: function() {\n      if (this.selectedCities == null) {\n        this.selectedCities = new Array();\n      }\n      if (this.selectedGenres == null) {\n        this.selectedGenres = new Array();\n      }\n      if (this.availableCities == null) {\n        this.getAvailableCities();\n      }\n      if (this.availableGenres == null) {\n        this.getAvailableGenres();\n      }\n    },\n    getAvailableCities: function() {\n      this.availableCities = new Array();\n\n      var citiesURL = `${this.apiAddress}/cities`;\n\n      axios.get(citiesURL)\n        .then((response => {\n          this.availableCities = response.data;\n        }));\n    },\n    getAvailableGenres: function() {\n      this.availableGenres = new Array();\n\n      var genresURL = `${this.apiAddress}/genres`;\n\n      axios.get(genresURL)\n        .then((response => {\n          this.availableGenres = response.data;\n        }));\n    },\n    getLocalEvents: function (cities, genres) {\n      var cityString = this.arrayToQueryString(cities);\n      var genreString = this.arrayToQueryString(genres);\n\n      var localEventsURL = `${this.apiAddress}/localevents?cities=` +\n      cityString +\n      \"&genres=\" +\n      genreString;\n\n      axios.get(localEventsURL)\n        .then((response => {\n          this.localEvents = response.data;\n          if (this.token != null) { \n            this.getArtistIDs(this.localEvents);\n          }\n          this.setPerformersArray(response.data);\n        }));\n    },\n    setNewSpotifyAuthenticationUrl: function() {\n      this.stateString = this.getRandomStateString()\n\n      var getAuthenticationRequestUrl = `${this.apiAddress}/authenticate?state=`\n      +  this.stateString;\n\n      axios.get(getAuthenticationRequestUrl)\n        .then(response => {\n          this.spotifyAuthenticationUrl = response.data;\n        })\n    },\n    setNewSpotifyToken: function() {\n      var getSpotifyTokenRequestURl = `${this.apiAddress}/token?state=` + this.stateString;\n\n      axios.get(getSpotifyTokenRequestURl)\n        .then(response => {\n          this.token = response.data;\n        })\n    },\n    getRandomStateString: function() {\n      return Math.random().toString(36).substring(2,15) + Math.random().toString(36).substring(2,15)\n    },\n    redirectToURL: function() {\n      window.location = this.spotifyAuthenticationUrl;\n    },\n    arrayToQueryString: function (array) {\n      var queryString = '[';\n\n      for (var i = 0; i < array.length; i++) {\n        queryString = queryString.concat(array[i] + ',');\n      }\n\n      queryString = queryString.slice(0, -1).concat(']');\n      return queryString;\n    },\n    getArtistIDs: function(events) {\n      var artistIDsURL = `${this.apiAddress}/artistids`;\n\n      const auth = {\n        headers: {\n          'Authorization': `Bearer ${this.token}`\n        }\n      }\n\n      axios.post(artistIDsURL, JSON.stringify(events), auth)\n        .then((response => {\n          this.artists = response.data;\n          this.setArtistImagesArray(this.artists);\n\n          this.$nextTick(() => {\n            this.$nextTick(() => {\n              this.setCarouselStartSlides();\n            });\n          });\n        })).catch(() => {\n          this.forceLogOff();\n        });\n    },\n    buildPlaylist: function (name, desc) {\n      var weekStartDate = new Date();\n      var weekStartMonth = weekStartDate.getMonth() + 1;\n      var weekStartDay = weekStartDate.getDate();\n\n      var weekEndDate = this.addDays(weekStartDate, 7);\n      var weekEndMonth = weekEndDate.getMonth() + 1;\n      var weekEndDay = weekEndDate.getDate();\n\n      name += ` [${weekStartMonth}/${weekStartDay} - ${weekEndMonth}/${weekEndDay}]`;\n\n      var topTracksURL = `${this.apiAddress}/toptracks`;\n      var buildPlaylistURL = `${this.apiAddress}/buildplaylist?name=` +\n        name +\n        \"&desc=\" +\n        desc;\n\n      var artistIDs = new Array();\n\n      this.artists.forEach(function(value) {\n        artistIDs.push(value.Id);\n      });\n\n      this.playlistLoading = true;\n      this.playlistStatus = null;\n\n      const auth = {\n        headers: {\n          'Authorization': `Bearer ${this.token}`\n        }\n      }\n\n      axios.post(topTracksURL, JSON.stringify(artistIDs), auth)\n        .then((response => {\n          this.topTracks = response.data;\n\n          axios.post(buildPlaylistURL, JSON.stringify(response.data), auth)\n            .then((response => {\n              this.playlistLoading = false;\n              this.playlistStatus = response.status;\n            })).catch(() => {\n              this.forceLogOff();\n            })\n          })).catch(() => {\n            this.forceLogOff();\n          }\n        );\n    },\n    addDays: function(date, days) {\n      const dateCopy = new Date(Number(date));\n      dateCopy.setDate(date.getDate() + days);\n      return dateCopy\n    },\n    setPerformersArray: function(localEvents) {\n      var tempPerformers = new Array();\n\n      if (localEvents != null) {\n        localEvents.forEach(function(event) {\n          if (event.Performers != null) {\n              event.Performers.forEach(function(performer) {\n                tempPerformers.push(performer);\n              });\n          }\n        }); \n\n        this.localPerformers = tempPerformers;\n      }\n    },\n    setArtistImagesArray: function(artists) {\n      var tempArtistImages = new Array();\n\n      if (artists != null) {\n        artists.forEach(function(artist) {\n          if (artist.Name != \"\" && artist.ImageURL != \"\") {\n            tempArtistImages.push({\"Name\": artist.Name, \"ImageURL\": artist.ImageURL});\n          }\n        }); \n\n        this.artistImages = tempArtistImages;\n      }\n    },\n    setCarouselStartSlides: function() {\n      var numberOfPerformers = -1; \n      \n      if (this.artistImages != null) {\n        numberOfPerformers = this.artistImages.length;\n      }\n\n      if (numberOfPerformers > 0) {\n        this.$refs.carouselLeft.pauseWrapper();\n        this.$refs.carouselRight.pauseWrapper();\n        this.$refs.carouselMain.pauseWrapper();\n\n        if (numberOfPerformers >= 3) {\n          this.$refs.carouselLeft.setSlideWrapper(0);\n          this.$refs.carouselMain.setSlideWrapper(1);\n          this.$refs.carouselRight.setSlideWrapper(2);\n        } else if (numberOfPerformers == 2) {\n          this.$refs.carouselLeft.setSlideWrapper(0);\n          this.$refs.carouselMain.setSlideWrapper(1);\n          this.$refs.carouselRight.setSlideWrapper(0);\n        } else {\n          this.$refs.carouselLeft.setSlideWrapper(0);\n          this.$refs.carouselMain.setSlideWrapper(0);\n          this.$refs.carouselRight.setSlideWrapper(0);\n        }\n\n        this.$refs.carouselLeft.startWrapper();\n        this.$refs.carouselRight.startWrapper();\n        this.$refs.carouselMain.startWrapper();\n      }\n    },\n    forceLogOff: function() {\n      this.localEvents = null;\n      this.localPerformers = null;\n      this.playlistStatus = null;\n      this.spotifyAuthenticationUrl = null;\n      this.topTracks = null;\n      this.artists = null;\n      this.artistImages = null;\n      this.isStateStringCorrect = null;\n      this.playlistLoading = false;\n      this.token = null;\n      this.stateString = null;\n\n      window.location = window.location.href.split(\"?\")[0];\n    },\n    obtainApiAddress: function() {\n      var hostname = window.location.host;\n      var hostnameWithoutPort = hostname.substring(0, hostname.indexOf(\":\"));\n      return window.location.protocol + \"//\" + hostnameWithoutPort;\n    }\n  }\n}\n</script>\n\n\n"]}]}