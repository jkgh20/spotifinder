{"remainingRequest":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/src/components/LocalEvents.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/src/components/LocalEvents.vue","mtime":1572631948618},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bnguyen/Documents/GitHub/golang/src/otherside/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSGVsbG9Xb3JsZCcsCiAgcHJvcHM6IHsKICAgIG1zZzogU3RyaW5nLAogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBsb2NhbEV2ZW50czogbnVsbCwKICAgICAgdG9wVHJhY2tzOiBudWxsLAogICAgICBwbGF5bGlzdFN0YXR1czogbnVsbCwKICAgICAgc3BvdGlmeUF1dGhlbnRpY2F0aW9uVXJsOiBudWxsLAogICAgICBzcG90aWZ5U3RhdGVTdHJpbmc6IG51bGwKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5nZXRMb2NhbEV2ZW50cygnNzg3NTknLCAnNTAnKTsKICAgIHRoaXMuc2V0TmV3U3BvdGlmeUF1dGhlbnRpY2F0aW9uVXJsKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRMb2NhbEV2ZW50czogZnVuY3Rpb24gKHBvc3RhbENvZGUsIG1pbGVzU3RyaW5nKSB7CiAgICAgIHZhciBsb2NhbEV2ZW50c1VSTCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODEvbG9jYWxldmVudHM/cG9zdGNvZGU9IiArCiAgICAgIHBvc3RhbENvZGUgKwogICAgICAiJm1pbGVzPSIgKwogICAgICBtaWxlc1N0cmluZzsKCiAgICAgIGF4aW9zLmdldChsb2NhbEV2ZW50c1VSTCkKICAgICAgICAudGhlbigocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy5sb2NhbEV2ZW50cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAvL3RoaXMuZ2V0VG9wVHJhY2tzKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0pKTsKICAgIH0sCiAgICBidWlsZFBsYXlsaXN0OiBmdW5jdGlvbiAobmFtZSwgZGVzYykgewogICAgICB2YXIgYnVpbGRQbGF5bGlzdFVSTCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODEvYnVpbGRwbGF5bGlzdD9uYW1lPSIgKwogICAgICAgIG5hbWUgKwogICAgICAgICImZGVzYz0iICsKICAgICAgICBkZXNjOwoKICAgICAgdmFyIHRvcFRyYWNrcyA9IHRoaXMuZ2V0VG9wVHJhY2tzKHRoaXMubG9jYWxFdmVudERhdGEpOwoKICAgICAgYXhpb3MucG9zdChidWlsZFBsYXlsaXN0VVJMLCBKU09OLnN0cmluZ2lmeSh0b3BUcmFja3MpKQogICAgICAgIC50aGVuKChyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLnBsYXlsaXN0U3RhdHVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KSk7CiAgICB9LAogICAgZ2V0VG9wVHJhY2tzOiBmdW5jdGlvbiAobG9jYWxFdmVudERhdGEpIHsKICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo4MDgxL3RvcHRyYWNrcyIsIEpTT04uc3RyaW5naWZ5KGxvY2FsRXZlbnREYXRhKSkKICAgICAgICAudGhlbigocmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy50b3BUcmFja3MgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgLy90aGlzLmJ1aWxkUGxheWxpc3QoIkdyZWV0aW5ncyBmcm9tIEF4aW9zIiwgIkEgZGVzY3JpcHRpb24gZm9yIHRoZSBhZ2VzLiIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0pKTsKICAgIH0sCiAgICBzZXROZXdTcG90aWZ5QXV0aGVudGljYXRpb25Vcmw6IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnNwb3RpZnlTdGF0ZVN0cmluZyA9IHRoaXMuZ2V0UmFuZG9tU3RhdGVTdHJpbmcoKQoKICAgICAgdmFyIGdldEF1dGhlbnRpY2F0aW9uUmVxdWVzdFVybCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODEvYXV0aGVudGljYXRlP3N0YXRlPSIKICAgICAgKyAgdGhpcy5zcG90aWZ5U3RhdGVTdHJpbmc7CgogICAgICBheGlvcy5nZXQoZ2V0QXV0aGVudGljYXRpb25SZXF1ZXN0VXJsKQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIHRoaXMuc3BvdGlmeUF1dGhlbnRpY2F0aW9uVXJsID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9KQogICAgfSwKICAgIGdldFJhbmRvbVN0YXRlU3RyaW5nOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLDE1KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLDE1KQogICAgfSwKICAgIHJlZGlyZWN0VG9VUkw6IGZ1bmN0aW9uKCkgewogICAgICB3aW5kb3cubG9jYXRpb24gPSB0aGlzLnNwb3RpZnlBdXRoZW50aWNhdGlvblVybDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["LocalEvents.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LocalEvents.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n\n    <button v-on:click=\"redirectToURL\">Log In</button>\n    \n    <button v-on:click=\"buildPlaylist('MY special playlist!', 'My special playlists description')\">Build Playlist</button>\n\n    <h2>Event Data:</h2>\n    <h2 v-if=\"localEvents\">{{localEvents}}</h2>\n\n    <h2>Test Top Tracks Data:</h2>\n    <h2 v-if=\"topTracks\">{{topTracks}}</h2>\n\n    <h2>Playlist Status:</h2>\n    <h2 v-if=\"playlistStatus\">{{playlistStatus}}</h2>\n\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String,\n  },\n  data () {\n    return {\n      localEvents: null,\n      topTracks: null,\n      playlistStatus: null,\n      spotifyAuthenticationUrl: null,\n      spotifyStateString: null\n    }\n  },\n  mounted () {\n    this.getLocalEvents('78759', '50');\n    this.setNewSpotifyAuthenticationUrl();\n  },\n  methods: {\n    getLocalEvents: function (postalCode, milesString) {\n      var localEventsURL = \"http://localhost:8081/localevents?postcode=\" +\n      postalCode +\n      \"&miles=\" +\n      milesString;\n\n      axios.get(localEventsURL)\n        .then((response => {\n          this.localEvents = response.data;\n          //this.getTopTracks(response.data);\n        }));\n    },\n    buildPlaylist: function (name, desc) {\n      var buildPlaylistURL = \"http://localhost:8081/buildplaylist?name=\" +\n        name +\n        \"&desc=\" +\n        desc;\n\n      var topTracks = this.getTopTracks(this.localEventData);\n\n      axios.post(buildPlaylistURL, JSON.stringify(topTracks))\n        .then((response => {\n          this.playlistStatus = response.data;\n        }));\n    },\n    getTopTracks: function (localEventData) {\n      axios.post(\"http://localhost:8081/toptracks\", JSON.stringify(localEventData))\n        .then((response => {\n          this.topTracks = response.data;\n          //this.buildPlaylist(\"Greetings from Axios\", \"A description for the ages.\", response.data);\n        }));\n    },\n    setNewSpotifyAuthenticationUrl: function() {\n      this.spotifyStateString = this.getRandomStateString()\n\n      var getAuthenticationRequestUrl = \"http://localhost:8081/authenticate?state=\"\n      +  this.spotifyStateString;\n\n      axios.get(getAuthenticationRequestUrl)\n        .then(response => {\n          this.spotifyAuthenticationUrl = response.data;\n        })\n    },\n    getRandomStateString: function() {\n      return Math.random().toString(36).substring(2,15) + Math.random().toString(36).substring(2,15)\n    },\n    redirectToURL: function() {\n      window.location = this.spotifyAuthenticationUrl;\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]}]}